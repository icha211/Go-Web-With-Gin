meta {
  name: Create Album Invalid Data
  type: http
  seq: 5
}

post {
  url: {{baseUrl}}/albums
  body: json
  auth: none
}

headers {
  Content-Type: application/json
  Accept: application/json
}

body:json {
  {
    "id": "6",
    "title": "",
    "artist": "",
    "price": -10.50
  }
}

vars:pre-request {
  baseUrl: http://localhost:8082
}

tests {
  test("Status code is 400 or 422", function() {
    expect(res.getStatus()).to.be.oneOf([400, 422]);
  });
  
  test("Response indicates validation error", function() {
    // Note: L'API actuelle ne valide pas les données, 
    // donc ce test peut échouer jusqu'à ce que la validation soit ajoutée
    expect(res.getStatus()).to.be.at.least(400);
  });
}
